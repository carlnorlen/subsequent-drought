#Total Basal Area
join.dia.all <- rbind(join.dia.both, join.dia.second)
join.dia.both <- rbind(join.dia.both.2002, join.dia.both.2015)
join.dia.both$sequence <- 'Both Droughts'
#Combine the drought sequence for total basal area and mortality with species and DIA groups
#Total Basal Area
join.dia.all <- rbind(join.dia.both, join.dia.second)
join.dia.all$tree_type <- recode(.x=join.dia.all$COMMON_NAME, 'California black oak' = 'oak', 'California juniper' = 'juniper', 'California live oak' = 'oak', 'California sycamore' = 'deciduous', 'Coulter pine' = 'pine', 'chinkapin oak' = 'oak', 'Jeffrey pine' = 'pine',
'bigcone Douglas-fir' = 'fir', 'bigleaf maple' = 'deciduous', 'canyon live oak' = 'oak', 'curlleaf mountain-mahogany' = 'deciduous', 'incense-cedar' = 'cedar', 'interior live oak' = 'oak', 'limber pine' = 'pine',
'lodgepole pine' = 'pine', 'ponderosa pine' = 'pine', 'singleleaf pinyon' = 'pine', 'sugar pine' = 'pine', 'Utah juniper' = 'juniper', 'western juniper' = 'juniper', 'white alder' = 'deciduous', 'white fir' = 'fir', 'California laurel' = 'deciduous',
'California-laurel' = 'deciduous', 'Oregon ash' = 'deciduous', 'Douglas-fir' = 'fir', 'honey mesquite' = 'deciduous', 'desert ironwood' = 'deciduous', 'California red fir' = 'fir', 'California buckeye' = 'deciduous', 'Engelmann oak' = 'oak', 'grand fir' = 'fir', 'western white pine' = 'pine',
"western white pine" = 'pine', "whitebark pine" = 'pine', "mountain hemlock" = "other conifer", "gray or California foothill pine" = "pine", "foxtail pine" = 'pine', "blue oak" = 'oak', "California white oak" = 'oak', "quaking aspen" = 'deciduous',
"giant sequoia" = 'other conifer', "Unknown dead conifer" = 'unknown conifer', "ash spp." = 'deciduous', "black cottonwood" = 'deciduous', "California torreya (nutmeg)" = 'deciduous', "Oregon white oak" = 'oak', "Port-Orford-cedar" = 'cedar', "Pacific dogwood" = 'deciduous')
p2 <- ggplot() + geom_line(data = join.dia.all %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(TPA.mean = mean(TPA), BAA.mean = mean(BAA)), mapping = aes(x = sizeClass * 2.54, y = BAA.mean, color = tree_type)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(time.period ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
join.dia.all$tree_type <- as.factor(join.dia.all$tree_type)
join.dia.all$tree_type <- as.factor(join.dia.all$sizeClass)
join.dia.all.type <- join.dia.all %>% group_by(pltID, time.period, sequence, sizeClass, tree_type, .drop = FALSE) %>%
summarize(BAA.all.sum = sum(BAA.all), BAA.live.sum = sum(BAA), BAA.dead.sum = sum(BAA.dead))
join.dia.all$BAA.dead <- join.dia.all$BAA.dead * (1/4.356)
join.dia.all$BAA <- join.dia.all$BAA * (1/4.356)
join.dia.all$BAA.all<- join.dia.all$BAA + join.dia.all$BAA.dead
join.dia.all$tree_type <- as.factor(join.dia.all$tree_type)
join.dia.all$tree_type <- as.factor(join.dia.all$sizeClass)
join.dia.all.type <- join.dia.all %>% group_by(pltID, time.period, sequence, sizeClass, tree_type, .drop = FALSE) %>%
summarize(BAA.all.sum = sum(BAA.all), BAA.live.sum = sum(BAA), BAA.dead.sum = sum(BAA.dead))
View(join.dia.all.type)
View(join.dia.all)
join.dia.all$tree_type <- recode(.x=join.dia.all$COMMON_NAME, 'California black oak' = 'oak', 'California juniper' = 'juniper', 'California live oak' = 'oak', 'California sycamore' = 'deciduous', 'Coulter pine' = 'pine', 'chinkapin oak' = 'oak', 'Jeffrey pine' = 'pine',
'bigcone Douglas-fir' = 'fir', 'bigleaf maple' = 'deciduous', 'canyon live oak' = 'oak', 'curlleaf mountain-mahogany' = 'deciduous', 'incense-cedar' = 'cedar', 'interior live oak' = 'oak', 'limber pine' = 'pine',
'lodgepole pine' = 'pine', 'ponderosa pine' = 'pine', 'singleleaf pinyon' = 'pine', 'sugar pine' = 'pine', 'Utah juniper' = 'juniper', 'western juniper' = 'juniper', 'white alder' = 'deciduous', 'white fir' = 'fir', 'California laurel' = 'deciduous',
'California-laurel' = 'deciduous', 'Oregon ash' = 'deciduous', 'Douglas-fir' = 'fir', 'honey mesquite' = 'deciduous', 'desert ironwood' = 'deciduous', 'California red fir' = 'fir', 'California buckeye' = 'deciduous', 'Engelmann oak' = 'oak', 'grand fir' = 'fir', 'western white pine' = 'pine',
"western white pine" = 'pine', "whitebark pine" = 'pine', "mountain hemlock" = "other conifer", "gray or California foothill pine" = "pine", "foxtail pine" = 'pine', "blue oak" = 'oak', "California white oak" = 'oak', "quaking aspen" = 'deciduous',
"giant sequoia" = 'other conifer', "Unknown dead conifer" = 'unknown conifer', "ash spp." = 'deciduous', "black cottonwood" = 'deciduous', "California torreya (nutmeg)" = 'deciduous', "Oregon white oak" = 'oak', "Port-Orford-cedar" = 'cedar', "Pacific dogwood" = 'deciduous')
View(join.dia.all)
join.dia.all$tree_type <- as.factor(join.dia.all$tree_type)
join.dia.all$sizeClass <- as.factor(join.dia.all$sizeClass)
join.dia.all.type <- join.dia.all %>% group_by(pltID, time.period, sequence, sizeClass, tree_type, .drop = FALSE) %>%
summarize(BAA.all.sum = sum(BAA.all), BAA.live.sum = sum(BAA), BAA.dead.sum = sum(BAA.dead))
View(join.dia.all.type)
View(join.dia.all)
View(join.dia.all.type)
join.dia.all.type$BAA.mort <- join.dia.all.type$BAA.dead.sum / (join.dia.all.type$BAA.all.sum) * 100
join.dia.all.type <- join.dia.all.type %>% mutate(BAA.mort = replace(BAA.mort, is.na(BAA.mort), 0))
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type != 'other conifer' & tree_type != 'deciduous') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(TPA.mean = mean(TPA), BAA.mean = mean(BAA)), mapping = aes(x = sizeClass * 2.54, y = BAA.mean, color = tree_type)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(time.period ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type != 'other conifer' & tree_type != 'deciduous') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(TPA.mean = mean(TPA), BAA.mean = mean(BAA)), mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = tree_type)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(time.period ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type != 'other conifer' & tree_type != 'deciduous') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(TPA.mean = mean(TPA), BAA.mean = mean(BAA)), mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = tree_type)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(factor(sequence, levels = c('Both Droughts', '2012-2015 Only')) ~ time.period)
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type == 'pine' | tree_type == 'fir' | tree_type == 'oak') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(TPA.mean = mean(TPA), BAA.mean = mean(BAA)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type == 'pine' | tree_type == 'fir' | tree_type == 'oak') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(TPA.mean = mean(TPA), BAA.mean = mean(BAA.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type == 'pine' | tree_type == 'fir' | tree_type == 'oak') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(BAA.mean = mean(BAA.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type == 'pine' | tree_type == 'fir' | tree_type == 'oak') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
View(join.dia.all.type)
join.dia.all.summary <- join.dia.all %>% #mutate(BAA.mort = replace(BAA.mort, is.na(BAA.mort), 0)) %>%
mutate(live = case_when(BAA.all.sum > 0 ~ 1, BAA.all.sum == 0 ~ 0),
dead = case_when(BAA.mort > 0 ~ 1, BAA.mort == 0 ~ 0)) %>%
group_by(tree_type, time.period, sequence, sizeClass) %>% summarize(BAA.all.mean = mean(BAA.all.sum), BAA.all.sd = sd(BAA.all.sum),
BAA.live.mean = mean(BAA.live.sum), BAA.sd = sd(BAA.live.sum),
BAA.dead.mean = mean(BAA.dead.sum), BAA.dead.sd = sd(BAA.dead.sum),
BAA.mort.mean = mean(BAA.mort), BAA.mort.sd = sd(BAA.mort), count = n(),
live.count = sum(live), dead.count = sum(dead))
join.dia.all.summary <- join.dia.all.type %>% #mutate(BAA.mort = replace(BAA.mort, is.na(BAA.mort), 0)) %>%
mutate(live = case_when(BAA.all.sum > 0 ~ 1, BAA.all.sum == 0 ~ 0),
dead = case_when(BAA.mort > 0 ~ 1, BAA.mort == 0 ~ 0)) %>%
group_by(tree_type, time.period, sequence, sizeClass) %>% summarize(BAA.all.mean = mean(BAA.all.sum), BAA.all.sd = sd(BAA.all.sum),
BAA.live.mean = mean(BAA.live.sum), BAA.sd = sd(BAA.live.sum),
BAA.dead.mean = mean(BAA.dead.sum), BAA.dead.sd = sd(BAA.dead.sum),
BAA.mort.mean = mean(BAA.mort), BAA.mort.sd = sd(BAA.mort), count = n(),
live.count = sum(live), dead.count = sum(dead))
View(join.dia.all.summary)
#Combine the drought sequence for total basal area and mortality with species and DIA groups
#Total Basal Area
join.dia.all <- rbind(join.dia.both, join.dia.second)
join.dia.all$tree_type <- recode(.x=join.dia.all$COMMON_NAME, 'California black oak' = 'oak', 'California juniper' = 'juniper', 'California live oak' = 'oak', 'California sycamore' = 'deciduous', 'Coulter pine' = 'pine', 'chinkapin oak' = 'oak', 'Jeffrey pine' = 'pine',
'bigcone Douglas-fir' = 'fir', 'bigleaf maple' = 'deciduous', 'canyon live oak' = 'oak', 'curlleaf mountain-mahogany' = 'deciduous', 'incense-cedar' = 'cedar', 'interior live oak' = 'oak', 'limber pine' = 'pine',
'lodgepole pine' = 'pine', 'ponderosa pine' = 'pine', 'singleleaf pinyon' = 'pine', 'sugar pine' = 'pine', 'Utah juniper' = 'juniper', 'western juniper' = 'juniper', 'white alder' = 'deciduous', 'white fir' = 'fir', 'California laurel' = 'deciduous',
'California-laurel' = 'deciduous', 'Oregon ash' = 'deciduous', 'Douglas-fir' = 'fir', 'honey mesquite' = 'deciduous', 'desert ironwood' = 'deciduous', 'California red fir' = 'fir', 'California buckeye' = 'deciduous', 'Engelmann oak' = 'oak', 'grand fir' = 'fir', 'western white pine' = 'pine',
"western white pine" = 'pine', "whitebark pine" = 'pine', "mountain hemlock" = "other conifer", "gray or California foothill pine" = "pine", "foxtail pine" = 'pine', "blue oak" = 'oak', "California white oak" = 'oak', "quaking aspen" = 'deciduous',
"giant sequoia" = 'other conifer', "Unknown dead conifer" = 'unknown conifer', "ash spp." = 'deciduous', "black cottonwood" = 'deciduous', "California torreya (nutmeg)" = 'deciduous', "Oregon white oak" = 'oak', "Port-Orford-cedar" = 'cedar', "Pacific dogwood" = 'deciduous')
join.dia.all$BAA.dead <- join.dia.all$BAA.dead * (1/4.356)
join.dia.all$BAA <- join.dia.all$BAA * (1/4.356)
join.dia.all$BAA.all<- join.dia.all$BAA + join.dia.all$BAA.dead
#Make tree type a factor so that I can fill in missing combinations
join.dia.all$tree_type <- as.factor(join.dia.all$tree_type)
join.dia.all$sizeClass <- as.factor(join.dia.all$sizeClass)
join.dia.all.type <- join.dia.all %>% group_by(pltID, time.period, sequence, sizeClass, tree_type, .drop = FALSE) %>%
summarize(BAA.all.sum = sum(BAA.all), BAA.live.sum = sum(BAA), BAA.dead.sum = sum(BAA.dead)) #%>%
# ungroup() %>% #Ungroup the data
# complete(pltID, time.period, tree_type, fill = list(BAA.all.sum = 0, BAA.dead.sum = 0, BAA.live.sum = 0)) #Add the missing combinations of data
#Calculate the precentage mortality
join.dia.all.type$BAA.mort <- join.dia.all.type$BAA.dead.sum / (join.dia.all.type$BAA.all.sum) * 100
join.dia.all.type <- join.dia.all.type %>% mutate(BAA.mort = replace(BAA.mort, is.na(BAA.mort), 0))
join.dia.all.summary <- join.dia.all.type %>% #mutate(BAA.mort = replace(BAA.mort, is.na(BAA.mort), 0)) %>%
mutate(live = case_when(BAA.all.sum > 0 ~ 1, BAA.all.sum == 0 ~ 0),
dead = case_when(BAA.mort > 0 ~ 1, BAA.mort == 0 ~ 0)) %>%
group_by(tree_type, time.period, sequence, sizeClass) %>% summarize(BAA.all.mean = mean(BAA.all.sum), BAA.all.sd = sd(BAA.all.sum),
BAA.live.mean = mean(BAA.live.sum), BAA.sd = sd(BAA.live.sum),
BAA.dead.mean = mean(BAA.dead.sum), BAA.dead.sd = sd(BAA.dead.sum),
BAA.mort.mean = mean(BAA.mort), BAA.mort.sd = sd(BAA.mort), count = n(),
live.count = sum(live), dead.count = sum(dead))
View(join.dia.all.summary)
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type == 'pine' | tree_type == 'fir' | tree_type == 'oak') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type == 'pine' | tree_type == 'fir' | tree_type == 'oak') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type == 'pine' | tree_type == 'fir' | tree_type == 'oak') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(BAA.mean = mean(BAA.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p3 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type == 'pine' | tree_type == 'fir' | tree_type == 'oak') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(BAA.mean = mean(BAA.dead)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Mortality (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p3
p3 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type == 'pine' | tree_type == 'fir' | tree_type == 'oak') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(BAA.mean = mean(BAA.dead.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Mortality (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p3
p3 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type == 'pine' | tree_type == 'fir' | tree_type == 'oak') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(BAA.mean = mean(BAA.dead.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Mortality (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(factor(sequence, levels = c('Both Droughts', '2012-2015 Only')) ~ tree_type)
p3
View(all.forest.type.summary)
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type == 'pine' | tree_type == 'fir') %>%
group_by (as.factor(tree_type), sizeClass, time.period, sequence, .drop = FALSE) %>% summarize(BAA.mean = mean(BAA.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type == 'pine' | tree_type == 'fir') %>%
group_by (factor(tree_type), sizeClass, time.period, sequence, .drop = FALSE) %>% summarize(BAA.mean = mean(BAA.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type == 'pine' | tree_type == 'fir') %>%
group_by (factor(tree_type), sizeClass, time.period, sequence, .drop = FALSE) %>% summarize(BAA.mean = mean(BAA.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(factor(tree_type) ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type == 'pine' | tree_type == 'fir') %>%
group_by (tree_type, sizeClass, time.period, sequence, .drop = FALSE) %>% summarize(BAA.mean = mean(BAA.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type == 'pine' | tree_type == 'fir') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(BAA.mean = mean(BAA.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
View(join.dia.all.type)
summary(join.dia.all.type)
join.dia.all.type %>% filter(tree_type == 'pine') %>% summary()
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous') %>%
group_by (tree_type, sizeClass, time.period, sequence) %>% summarize(BAA.mean = mean(BAA.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous') %>%
summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
join.dia.all.type$tree_type <- as.character(join.dia.all.type$tree_type)
join.dia.all.type$sizeClass <- as.numberic(join.dia.all.type$sizeClass)
join.dia.all.type$tree_type <- as.character(join.dia.all.type$tree_type)
join.dia.all.type$sizeClass <- as.numeric(join.dia.all.type$sizeClass)
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous') %>%
summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
View(join.dia.all.type)
join.dia.all <- rbind(join.dia.both, join.dia.second)
#Mortality Basal Area
# tpa.dia.mort <- rbind(tpa.dia.second.mort, tpa.dia.second.mort)
join.dia.all$tree_type <- recode(.x=join.dia.all$COMMON_NAME, 'California black oak' = 'oak', 'California juniper' = 'juniper', 'California live oak' = 'oak', 'California sycamore' = 'deciduous', 'Coulter pine' = 'pine', 'chinkapin oak' = 'oak', 'Jeffrey pine' = 'pine',
'bigcone Douglas-fir' = 'fir', 'bigleaf maple' = 'deciduous', 'canyon live oak' = 'oak', 'curlleaf mountain-mahogany' = 'deciduous', 'incense-cedar' = 'cedar', 'interior live oak' = 'oak', 'limber pine' = 'pine',
'lodgepole pine' = 'pine', 'ponderosa pine' = 'pine', 'singleleaf pinyon' = 'pine', 'sugar pine' = 'pine', 'Utah juniper' = 'juniper', 'western juniper' = 'juniper', 'white alder' = 'deciduous', 'white fir' = 'fir', 'California laurel' = 'deciduous',
'California-laurel' = 'deciduous', 'Oregon ash' = 'deciduous', 'Douglas-fir' = 'fir', 'honey mesquite' = 'deciduous', 'desert ironwood' = 'deciduous', 'California red fir' = 'fir', 'California buckeye' = 'deciduous', 'Engelmann oak' = 'oak', 'grand fir' = 'fir', 'western white pine' = 'pine',
"western white pine" = 'pine', "whitebark pine" = 'pine', "mountain hemlock" = "other conifer", "gray or California foothill pine" = "pine", "foxtail pine" = 'pine', "blue oak" = 'oak', "California white oak" = 'oak', "quaking aspen" = 'deciduous',
"giant sequoia" = 'other conifer', "Unknown dead conifer" = 'unknown conifer', "ash spp." = 'deciduous', "black cottonwood" = 'deciduous', "California torreya (nutmeg)" = 'deciduous', "Oregon white oak" = 'oak', "Port-Orford-cedar" = 'cedar', "Pacific dogwood" = 'deciduous')
join.dia.all$BAA.dead <- join.dia.all$BAA.dead * (1/4.356)
join.dia.all$BAA <- join.dia.all$BAA * (1/4.356)
join.dia.all$BAA.all<- join.dia.all$BAA + join.dia.all$BAA.dead
#Make tree type a factor so that I can fill in missing combinations
join.dia.all$tree_type <- as.factor(join.dia.all$tree_type)
join.dia.all$sizeClass <- as.factor(join.dia.all$sizeClass)
join.dia.all.type <- join.dia.all %>% group_by(pltID, time.period, sequence, sizeClass, tree_type, .drop = FALSE) %>%
summarize(BAA.all.sum = sum(BAA.all), BAA.live.sum = sum(BAA), BAA.dead.sum = sum(BAA.dead))
join.dia.all.type$tree_type <- as.character(join.dia.all.type$tree_type)
join.dia.all.type$sizeClass <- as.character(join.dia.all.type$sizeClass)
View(join.dia.all.type)
join.dia.all.type %>% filter(tree_type == 'pine') %>% summary()
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous') %>%
summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous'),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.all.sum, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggbarplot(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous'),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.all.sum, fill = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggbarplot(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous'),
x = "sizeClass", y = "BAA.all.sum", fill = "time.period") +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggbarplot(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous'),
x = "sizeClass", y = "BAA.all.sum", fill = "time.period", add = "mean_se" , error.plot = "errorbar", alpha = 0.8) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggbarplot(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous'),
x = "sizeClass", y = "BAA.all.sum", fill = "time.period", add = "mean_se" , error.plot = "errorbar", alpha = 0.8,
position = position_dodge()) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggbarplot(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous'),
x = "sizeClass", y = "BAA.all.sum", fill = "time.period", add = "mean_se" , error.plot = "errorbar", alpha = 0.8,
position = position_dodge(), color = "sequence") +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
scale_color_manual(values = c("black", "black"),
aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous'),
x = sizeClass, y = BAA.all.sum, color = time.period) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' & tree_type != 'deciduous'),
mapping = aes(x = sizeClass, y = BAA.all.sum, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = sizeClass * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = as.numeric(sizeClass * 2.54), y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
View(join.dia.all.type)
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.live.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.dead.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
View(join.dia.all.summary)
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.mort.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.mort)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
View(join.dia.all.type)
join.dia.all.type$BAA.mort <- join.dia.all.type$BAA.dead.sum / (join.dia.all.type$BAA.all.sum) * 100
join.dia.all.type <- join.dia.all.type %>% mutate(BAA.mort = replace(BAA.mort, is.na(BAA.mort), 0))
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.mort)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
View(join.dia.all.type)
summary(join.dia.all.type)
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.mort)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.dead.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.mort)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all.type %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.all.sum)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.all)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mean = mean(BAA.mort)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mort = mean(BAA.dead) / mean(BAA.all) * 100),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mean, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mort = mean(BAA.dead) / mean(BAA.all) * 100),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mort, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mort = mean(BAA.dead)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mort, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
p2 <- ggplot() + geom_line(data = join.dia.all %>% filter(tree_type != 'oak' & tree_type != 'cedar' &
tree_type != 'juniper' & tree_type != 'other conifer' &
tree_type != 'deciduous') %>% group_by(tree_type, time.period, sequence, sizeClass) %>%
summarize(BAA.mort = sum(BAA.dead)),
mapping = aes(x = as.numeric(sizeClass) * 2.54, y = BAA.mort, color = time.period)) +
xlab('Size Class (cm)') + ylab(expression('Basal Area (m'^2*' ha'^-1*')')) + theme_bw() +
# scale_color_manual(values = c("black", "black"),
# aesthetics = "color") +
facet_grid(tree_type ~ factor(sequence, levels = c('Both Droughts', '2012-2015 Only')))
p2
